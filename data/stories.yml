version: "3.1"

stories:
- story: book an appointment successfully (opthalmologist --> 1)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: book_an_appointment
    - action: utter_ask_med_specialty
    - intent: see_opthalmologist
    - action: utter_suggest_opthalmologist_show_info
    - intent: georgiou_anna
    - action: ask_date_time_form
    - active_loop: ask_date_time_form
    - slot_was_set:
        - requested_slot: date
    - slot_was_set:
        - date: choose_date
    - slot_was_set: 
        - requested_slot: time
    - slot_was_set: 
        - time: choose_time
    - slot_was_set:
        - requested_slot: null
    - active_loop: null
    - action: ask_ssn_form
    - active_loop: ask_ssn_form
    - slot_was_set: 
        - requested_slot: social_security_number
    - slot_was_set:
        - social_security_number: ssn
    - slot_was_set: 
        - requested_slot: null
    - active_loop: null
    - action: action_check_ssn
    - action: utter_provide_more_info

- story: book an appointment successfully (opthalmologist --> 2)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: book_an_appointment
    - action: utter_ask_med_specialty
    - intent: see_opthalmologist
    - action: utter_suggest_opthalmologist_show_info
    - intent: papadopoulos_konstantinos
    - action: ask_date_time_form
    - active_loop: ask_date_time_form
    - slot_was_set:
        - requested_slot: date
    - slot_was_set:
        - date: choose_date
    - slot_was_set: 
        - requested_slot: time
    - slot_was_set: 
        - time: choose_time
    - slot_was_set:
        - requested_slot: null
    - active_loop: null
    - action: ask_ssn_form
    - active_loop: ask_ssn_form
    - slot_was_set: 
        - requested_slot: social_security_number
    - slot_was_set:
        - social_security_number: ssn
    - slot_was_set: 
        - requested_slot: null
    - active_loop: null
    - action: action_check_ssn
    - action: utter_provide_more_info

- story: book an appointment successfully (opthalmologist --> 3)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: book_an_appointment
    - action: utter_ask_med_specialty
    - intent: see_opthalmologist
    - action: utter_suggest_opthalmologist_show_info
    - intent: ioannou_maria
    - action: ask_date_time_form
    - active_loop: ask_date_time_form
    - slot_was_set:
        - requested_slot: date
    - slot_was_set:
        - date: choose_date
    - slot_was_set: 
        - requested_slot: time
    - slot_was_set: 
        - time: choose_time
    - slot_was_set:
        - requested_slot: null
    - active_loop: null
    - action: ask_ssn_form
    - active_loop: ask_ssn_form
    - slot_was_set: 
        - requested_slot: social_security_number
    - slot_was_set:
        - social_security_number: ssn
    - slot_was_set: 
        - requested_slot: null
    - active_loop: null
    - action: action_check_ssn
    - action: utter_provide_more_info

- story: book an appointment successfully (gynaecologist --> 1)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: book_an_appointment
    - action: utter_ask_med_specialty
    - intent: see_gynaecologist
    - action: utter_suggest_gynaecologist_show_info
    - intent: papakonstantinou_zoi
    - action: ask_date_time_form
    - active_loop: ask_date_time_form
    - slot_was_set:
        - requested_slot: date
    - slot_was_set:
        - date: choose_date
    - slot_was_set: 
        - requested_slot: time
    - slot_was_set: 
        - time: choose_time
    - slot_was_set:
        - requested_slot: null
    - active_loop: null
    - action: ask_ssn_form
    - active_loop: ask_ssn_form
    - slot_was_set: 
        - requested_slot: social_security_number
    - slot_was_set:
        - social_security_number: ssn
    - slot_was_set: 
        - requested_slot: null
    - active_loop: null
    - action: action_check_ssn
    - action: utter_provide_more_info

- story: book an appointment successfully (gynaecologist --> 2)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: book_an_appointment
    - action: utter_ask_med_specialty
    - intent: see_gynaecologist
    - action: utter_suggest_gynaecologist_show_info
    - intent: sekos_christos
    - action: ask_date_time_form
    - active_loop: ask_date_time_form
    - slot_was_set:
        - requested_slot: date
    - slot_was_set:
        - date: choose_date
    - slot_was_set: 
        - requested_slot: time
    - slot_was_set: 
        - time: choose_time
    - slot_was_set:
        - requested_slot: null
    - active_loop: null
    - action: ask_ssn_form
    - active_loop: ask_ssn_form
    - slot_was_set: 
        - requested_slot: social_security_number
    - slot_was_set:
        - social_security_number: ssn
    - slot_was_set: 
        - requested_slot: null
    - active_loop: null
    - action: action_check_ssn
    - action: utter_provide_more_info

- story: book an appointment successfully (dermatologist --> 1)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: book_an_appointment
    - action: utter_ask_med_specialty
    - intent: see_dermatologist
    - action: utter_suggest_dermatologist_show_info
    - intent: konstantinou_dimitrios
    - action: ask_date_time_form
    - active_loop: ask_date_time_form
    - slot_was_set:
        - requested_slot: date
    - slot_was_set:
        - date: choose_date
    - slot_was_set: 
        - requested_slot: time
    - slot_was_set: 
        - time: choose_time
    - slot_was_set:
        - requested_slot: null
    - active_loop: null
    - action: ask_ssn_form
    - active_loop: ask_ssn_form
    - slot_was_set: 
        - requested_slot: social_security_number
    - slot_was_set:
        - social_security_number: ssn
    - slot_was_set: 
        - requested_slot: null
    - active_loop: null
    - action: action_check_ssn
    - action: utter_provide_more_info

- story: book an appointment successfully (dermatologist --> 2)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: book_an_appointment
    - action: utter_ask_med_specialty
    - intent: see_dermatologist
    - action: utter_suggest_dermatologist_show_info
    - intent: stavrou_amalia
    - action: ask_date_time_form
    - active_loop: ask_date_time_form
    - slot_was_set:
        - requested_slot: date
    - slot_was_set:
        - date: choose_date
    - slot_was_set: 
        - requested_slot: time
    - slot_was_set: 
        - time: choose_time
    - slot_was_set:
        - requested_slot: null
    - active_loop: null
    - action: ask_ssn_form
    - active_loop: ask_ssn_form
    - slot_was_set: 
        - requested_slot: social_security_number
    - slot_was_set:
        - social_security_number: ssn
    - slot_was_set: 
        - requested_slot: null
    - active_loop: null
    - action: action_check_ssn
    - action: utter_provide_more_info

- story: integrate API in RASA (heart)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_about_heart
    - action: utter_give_link
    - action: action_query_heart_api

- story: integrate API in RASA (folic acid)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_about_folic_acid
    - action: utter_give_link
    - action: action_query_folic_acid_api

- story: integrate API in RASA (falling)
  steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_about_falling
    - action: utter_give_link
    - action: action_query_falling_api

- story: calculate BMI
  steps:
    - intent: greet
    - action: utter_greet
    - intent: ask_BMI_calc
    - action: ask_weight_height_BMI_form
    - active_loop: ask_weight_height_BMI_form
    - slot_was_set: 
      - requested_slot: weight_kgs
    - slot_was_set:
      - weight_kgs: from_text
    - slot_was_set:
      - requested_slot: height_cm
    - slot_was_set:
      - height_cm: from_text
    - slot_was_set:
        - requested_slot: null
    - active_loop: null
    - action: action_BMI_results
    # - action: action_BMI_calculation

# - story: suggest some healthy topics
#   steps: 
#     - intent: greet
#     - action: utter_greet
#     - action: utter_provide_more_info
#     - intent: deny
#     - action: utter_ask_about_faqs
#     - intent: affirm
#     - action: utter_suggest_health_topics